4 关系数据库设计理论

4.1 数据依赖
    数据依赖分类
        函数依赖
            对关系模式R(U)
            两个集合X和Y, X决定Y, 记作X->Y
            非平凡函数依赖
                如果X->Y, 且Y不是X子集, 则是非平凡函数依赖
                反之则平凡
                我们一般讨论的都是非平凡函数依赖
            完全函数依赖
                对一个非平凡函数依赖
                如果X->Y, 而任意X真子集中X'!->Y, 则Y完全依赖X
                反之则部份依赖
                完全为f, 部分为p
            传递函数依赖
                如果X->Y且Y->Z, 而且Y!->X 
                则Z传递依赖X
                传递为t
            重新定义候选码, 简称码
                关系模式R(U,F)中, K是属性组合, 若U完全依赖K, 则K是候选码
        多值依赖
            对关系模式R(U), XYZ是三个不相交的子集, Z=U-X-Y
            如果任一关系r
            对X给定值, 存在Y一组值对应, 且Y的这组值与Z无关
            Y多值依赖于X
            多值为两个->
        连接依赖
            对关系模式R(U), U的若干子集X_i并集是U, 关系可自然连接
            记作*(X_i)

4.2 范式
    1NF
        关系模式的所有属性都是原子的
        人话
            不可再分
    2NF
        1NF下, 消除非主属性对于码的部分函数依赖
        人话
            有个主键
    3NF
        2NF下, 消除非主属性对码的传递依赖
        人话
            能拆尽量拆, 非主属性可以当作新表的依赖关系要拆出来
            还是可能有插入修改删除异常
    BCNF
        3NF下, 消除主属性对于码的部分函数依赖
        人话
            能拆尽量拆, 往死里拆
            插入修改删除异常解决
    4NF
        BCNF下, 消除平凡的多值依赖
        人话
            一对多且多的那些不重合, 也不行
            这种三元关系要消成两个二元关系
            消除不了再留着
    5NF
        4NF下, 消除非候选码的连接依赖
        人话
            我不会说了

4.3 关系模式的规范化
    衡量关系分解
        是否无损连接
        是否保持函数依赖